---
title: Vuex
tags: 
  - vue
date: 2022-03-16
prev: ./02.md
next: ./04.md
sidebarDepth: 5
---

[[toc]]

## 1. 聊聊Vuex是什么？<Badge text="TODO" type="error"/>

## 2. Redux 和 Vuex 的设计思想

不管是 Vue，还是 React，都需要管理状态（state），比如组件之间都有共享状态的需要。  
父子组件之间，兄弟组件之间共享状态，往往需要写很多没有必要的代码。  
对于状态管理的解决思路就是：把组件之间需要共享的状态抽取出来，遵循特定的约定，统一来管理，让状态的变化可以预测。

## 2. 说说actions和mutations的实现机制和区别是什么？ <Badge text="TODO" type="error"/>

## 3. 为什么 Vuex 的 mutation 和 Redux 的 reducer 中 不能做异步操作？

请参考下面的例子： 

`mutations: { someMutation (state) { api.callAsyncMethod(() => { state.count++ }) }}`

现在想象，我们正在 debug 一个 app 并且观察 devtool 中的 mutation 日志。
每一条 mutation 被记录，devtools 都需要捕捉到前一状态和后一状态的快照。 
然而在上面的例子中 mutation 中的异步函数中的回调无法在 mutation 触发的时候，立马拿到回调函数的结果，devtools 不知道什么时候回调函数被调用，所以mutation中进行异步状态的改变都是不可追踪的。

## 3. 怎么实现一个简单的Vuex？ <Badge text="TODO" type="error"/>