---
title: Vue基础
tags: 
  - vue
date: 2022-03-28
prev: false
next: ./02.md
sidebarDepth: 5
---

[[toc]]

## 1. Vue最核心的两个功能是？

:::details 查看答案
数据驱动和组件化
:::

## 2. Vue单向的数据流程要素有哪些？

:::details 查看答案
- state：数据源
- view：视图
- actions：行为，用户和视图交互改变状态的方式
:::

## 3. Vue组件间通信方式有哪些？

:::details 查看答案

### 父子组件传值
- 父组件给子组件通过相应属性传值，子组件用props接收
- 子组件通过自定义时间，触发emit携带参数给父组件传值，父组件通过on注册子组件内部触发的事件，并接收传递的数据
- `$refs`
- `$parent/$children`
- `$root`
- provide/inject
### 不相关组件传值
#### eventBus
  - 创建一个公共的Vue实例，这个实例的作用是作为事件总线，或者事件中心。
  - 触发事件的组件通过$emit触发并传递参数
  - 注册时间的组件通过$on注册事件并接收参数

#### Vuex
  - 集中状态管理工具
:::
## 4. 在 Vue 中，子组件为何不可以修改父组件传递的 Prop？
:::details 查看答案
如果修改了，Vue 是如何监控到属性的修改并给出警告的。

1、子组件为何不可以修改父组件传递的 Prop 单向数据流，易于监测数据的流动，出现了错误可以更加迅速的定位到错误发生的位置。 
2、如果修改了，Vue 是如何监控到属性的修改并给出警告的。

在 initProps 的时候，在 defineReactive 时通过判断是否在开发环境，如果是开发环境，会在触发 set 的时候判断是否此 key 是否处于 updatingChildren 中被修改，如果不是，说明此修改来自子组件，触发 warning 提示。

需要特别注意的是，当你从子组件修改的 prop 属于基础类型时会触发提示。这种情况下，你是无法修改父组件的数据源的， 因为基础类型赋值时是值拷贝。  
你直接将另一个非基础类型（Object, array）赋值到此 key 时也会触发提示(但实际上不会影响父组件的数据源)， 当你修改 object 的属性时不会触发提示，并且会修改父组件数据源的数据。
:::

## 5. Vue 的父组件和子组件生命周期钩子执行顺序是什么

:::details 查看答案
### 创建
父beforeCreate -> 父created -> 父beforeMount -> 子beforeCreate -> 子created -> 子beforeMount -> 子mounted -> 父mounted

### 更新
父beforeUpdate -> 子beforeUpdate -> 子updated -> 父updated

### 销毁
父beforeDestroy -> 子beforeDestroy -> 子destroyed -> 父destroyed

:::

## 6. vue 在 v-for 时给每项元素绑定事件需要用事件代理吗？

:::details 查看答案

vue中并没有给元素添加事件代理。

事件代理主要有什么作用是？
- 事件代理能够避免我们逐个的去给元素新增和删除事件。
- 事件代理比每一个元素都绑定一个事件性能要更好。

从vue的角度上来看：
1. 在v-for中，我们直接用一个for循环就能在模板中将每个元素都绑定上事件，并且当组件销毁时，vue也会自动给我们将所有的事件处理器都移除掉。所以事件代理能做到的第一点vue已经给我们做到了
2. 在v-for中，给元素绑定的都是相同的事件，所以除非上千行的元素需要加上事件，其实和使用事件代理的性能差别不大，所以也没必要用事件代理。

如果我们自己在非 vue 中需要对很多元素添加事件的时候，可以通过将事件添加到它们的父节点而将事件委托给父节点来触发处理函数。
:::


## 7. v-for和v-if的优先级谁高？ <Badge text="TODO" type="error"/>