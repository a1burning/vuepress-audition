---
title: TCP
tags: 
  - 计算机网络
date: 2022-03-12
prev: ./02.md
next: ./04.md
---

## 一、TCP的为什么是三次握手和四次挥手？
:::details 查看答案
TCP三次握手的目的是为了建立稳定而高效的链接。
TCP三次握手的过程：
1. 客户端->服务器：要发送请求建立链接
2. 服务端->客户端：可以发送请求
3. 客户端->服务端：收到消息，链接建立

TCP四次挥手的目的是为了关闭链接。
TCP四次挥手的过程：
1. 客户端->服务端：请求已经全部发送完毕，可以关闭链接了
2. 服务端->客户端：好的我收到了，我这边还有一些要返回的数据
3. 服务端->客户端：所有数据返回完毕，可以关闭链接了
4. 客户端->服务端：好的，链接关闭
:::

## 二、TCP为什么是三次握手不是两次或四次？
:::details 查看答案
因为TCP建立的是稳定而高效的链接，如果是两次握手，那么只是单向的建立了稳定的通道（服务端到客户端），而无法确定客户端是否可以接收到服务端的消息。如果使用四次，是没有必要的，三次已经可以确定双向通道了，第四次会造成网络带宽的浪费。
:::

## 三、TCP为什么握手是三次，挥手却是四次？
:::details 查看答案
在建立链接的时候，服务器在接收客户端给的消息的时候，可以直接发送报文。
而在断开链接的时候，服务器收到断开链接的消息时，不会立即关闭链接，因为准备数据的时间会比较长，所以会先回复一个消息说收到了，等到服务器的内容都发送完毕了，才能发送断开链接的消息，所以不能一起发送，需要四次。
:::

## 四、TCP和UDP的区别是什么？
:::details 查看答案
### TCP：
1. 可靠传输：用于在传输层有必要实现的可靠传输其面向链接，且有顺序控制和重发控制等机制，可以提供可靠传输。
2. 只支持单播传输，点对点（两个端点），不支持多播和广播。
3. 基于字节流。

### UDP：
1. 不可靠：不具有可靠性的数据报协议，虽然可以确保发送消息的大小，但是不能保证下次一定会到达。
2. 用于高度传输和实时性有较高要求的通信或广播通信，支持多播和广播。
3. 基于报文流。
4. 用于视频会议，直播，语言视频通话。
:::