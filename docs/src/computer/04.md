---
title: HTTP
tags: 
  - 计算机网络
date: 2022-03-12
prev: ./03.md
next: ./05.md
---

## 一、HTTP有哪几种协议？
:::details 查看答案
- HTTP0.9（不是正式标准）
- HTTP1.0
- HTTP1.1
- HTTP2.0
:::
## 二、HTTP1.0的特点
:::details 查看答案
1. TCP链接无法复用，每次请求都要三次握手，四次挥手
2. 无法并行请求数据，容易造成队头阻塞
:::

## 三、HTTP1.1的特点和优化点（区别）
:::details 查看答案
1. 使用长链接`Connection：Keep-alive`，在一个TCP上可以发送多个HTTP请求和响应
2. 使用管线化，浏览器可以并行发送请求，但是对于请求的响应依旧遵循先进先出，一个响应处理完后再处理下一个，并没有解决队头阻塞的问题。
3. 增加了与缓存相关的请求/响应头
4. 进行带宽优化，支持断点续传
5. 新增错误类型，增强错误和响应码的语义特性
6. 新增HOST头处理，若请求头中无HOST，就会报错
:::

## 四、HTTP1.1存在的问题是什么？
:::details 查看答案
1. HTTP1.1并没有解决队头阻塞的问题
2. 明文传输，有安全隐患
3. header内容多，增加传输成本
4. 默认开启Keep-alive会造成性能压力（如果只有一个请求，长时间不关闭链接会造成性能压力）。
:::

## 五、HTTP2.0和HTTP1.X的区别
:::details 查看答案
1. **多路复用**：
    - 多个请求并行执行，每帧分配一个流标识符id，通过id识别对应哪个请求，某请求超时也不会阻塞，解决了队头阻塞的问题。
    - 而且还可以根据id进行优先级的分配，服务端可以确定处理顺序。
    - 可以由客户端主动示意停止发送或减少发送的数据量。
2. **服务器推送**：主动返回一些资源存到内存中。
3. **header压缩**：HTTP1.x带来的header有大量的信息，并且每次都要重复发送，HTTP2.0减少大小，各自cache一次header field表，每次只需要发送不同的部分。
4. **使用二进制格式**：新的二进制协议被称为二进制分帧层协议，HTTP1.x基于文本，文本协议解析缺陷很多，HTTP2.0的二进制格式很方便。
:::

## 六、说说长链接
:::details 查看答案
长短链接说的是TCP链接，TCP链接是一个双向通道，它可以保持一段时间不关闭。HTTP1.1中将Connection设置为Keep-alive，发送HTTP请求不需要每次都三握四挥，提升了一定的效率。长链接并不是永久链接，一段时间没有发送HTTP请求，长链接就会断开，超时时间可以在header中设置。
:::